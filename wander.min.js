class wanderer{constructor(t,e,i,s,h,a,{bound:n=!0,frameSpeed:r=2,waitTime:d={low:.1,high:.3},reAlingcheckSpeed:g=4,allowInner:m=!0,minimumWanderDistance:l=5}={}){this.x=t,this.y=e,this.wanderRadius=i,this.baseX=s,this.baseY=h,this.speed=a,this.targetX=t+8*a,this.targetY=e+8*a,this.angle=.1,this.reachedTarget=!1,this.bound=n,this.frame=0,this.frameSpeed=r,this.waitTime=d,this.lastTime=Date.now(),this.locked=!1,this.reAlingcheckSpeed=g,this.allowInner=m,this.allowInner&&(this.minimumWanderDistance=l)}#newtarget(){this.locked=!0,setTimeout(()=>{this.angle=this.#getRandomAngle(),this.targetX=this.baseX,this.targetY=this.baseY,this.allowInner?this.allowInner&&(this.targetX+=this.#getRandom(this.minimumWanderDistance,this.wanderRadius)*Math.cos(this.angle),this.targetY+=this.#getRandom(this.minimumWanderDistance,this.wanderRadius)*Math.sin(this.angle)):(this.targetX+=this.wanderRadius*Math.cos(this.angle),this.targetY+=this.wanderRadius*Math.sin(this.angle)),this.locked=!1},this.#getRandomTime())}#getRandomAngle(){var t=-Math.PI,e=Math.PI;return Math.random()*(e-t+1)+t}#getRandomTime(){var t=this.waitTime.low,e=this.waitTime.high;return 1e3*(Math.random()*(e-t+1)+t)}#getRandom(t,e){return Math.random()*(e-t+1)+t}#move(){this.locked||(this.x-=this.speed*Math.cos(this.angle),this.y-=this.speed*Math.sin(this.angle))}#isAtTarget(){this.reachedTarget=Math.abs(this.x-this.targetX)<7*this.speed&&Math.abs(this.y-this.targetY)<7*this.speed&&!this.locked}#reAling(){this.angle=Math.atan2(this.y-this.targetY,this.x-this.targetX)}think(){this.#isAtTarget(),this.reachedTarget?this.#newtarget():this.#move(),this.frame+=this.frameSpeed,this.frame%this.reAlingcheckSpeed&&this.#reAling()}returnXY(){return{x:this.x,y:this.y}}}export{wanderer};
